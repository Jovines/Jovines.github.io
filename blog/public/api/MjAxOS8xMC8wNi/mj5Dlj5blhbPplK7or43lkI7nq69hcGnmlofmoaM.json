{"title":"提取关键词后端api文档","date":"2019-10-06T11:39:00.000Z","author":"Jon","link":"2019/10/06/提取关键词后端api文档","comments":true,"categories":["文档"],"updated":"2019-10-07T02:52:00.752Z","content":"<h2 id=\"Api文档\">Api文档<a href=\"2019/10/06/提取关键词后端api文档#Api文档\"></a></h2><p><strong>baseUrl：<code>host:port/lihkg</code></strong></p>\n<p><strong>以下所有链接均需要加上baseUrl</strong></p>\n<p><strong>测试baseUrl：<code>http://39.108.208.114/lihkg</code></strong></p>\n<h3 id=\"配置文件\">配置文件<a href=\"2019/10/06/提取关键词后端api文档#配置文件\"></a></h3><p><code>config.json</code>配置文件</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; </span><br><span class=\"line\">    <span class=\"attr\">\"filePath\"</span> : <span class=\"string\">\"C:\\\\data\\\\IdeaUProjects\\\\lihkg\\\\data\"</span>, </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"attr\">\"outputPath\"</span> : <span class=\"string\">\"C:\\\\data\\\\IdeaUProjects\\\\lihkg\\\\outData\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<ul>\n<li><p>filePath ：数据存放目录，所有需要解析的文件需要放到这个目录，请根据实际情况设置绝对路径</p>\n</li>\n<li><p>outputPath：解析后文件输出目录，所有解析完成的数据都会存放到这个地方，请根据实际情况设置绝对路径</p>\n</li>\n<li><p><strong>注意：</strong></p>\n<p>输出文件夹权限必须为所有用户可写</p>\n</li>\n</ul>\n<h3 id=\"初始化接口\">初始化接口<a href=\"2019/10/06/提取关键词后端api文档#初始化接口\"></a></h3><ul>\n<li><p>url：<code>/resolve</code></p>\n</li>\n<li><p>说明：</p>\n<blockquote>\n<p>访问该接口会把数据目录里面所有的文件进行解析，数据文件夹务必全部放所需要解析的文件，不可放文件夹，否则可能解析失败，解析完成会把解析完成的数据放置在输出目录,解析完成会有返回，根据服务器不同解析成功时间不同，不建议在主线程执行。</p>\n</blockquote>\n</li>\n<li><p>json格式：</p>\n<blockquote>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;//失败</span><br><span class=\"line\">&gt;&#123;</span><br><span class=\"line\">&gt;  &quot;tip&quot;: &quot;no data file,please check&quot;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;//成功</span><br><span class=\"line\">&gt;&#123;</span><br><span class=\"line\">&gt;  &quot;tip&quot;: &quot;success resolve&quot;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></div></figure>\n</blockquote>\n<blockquote>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"数据获取接口\">数据获取接口<a href=\"2019/10/06/提取关键词后端api文档#数据获取接口\"></a></h3><ul>\n<li><p>url：<code>/keyword</code> （关键词解析数据）</p>\n</li>\n<li><p>url：<code>/organization</code> (组织解析数据)</p>\n</li>\n<li><p>url：<code>/place</code> （地名解析数据）</p>\n</li>\n<li><p>参数 ：（以上三个接口参数均如下）</p>\n<table>\n<thead>\n<tr>\n<th>key</th>\n<th></th>\n<th align=\"center\">value</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>single</td>\n<td></td>\n<td align=\"center\">true\\false</td>\n<td></td>\n<td>不加参数默认为false，返回数据会根据文件将关键词分开，true将把所有关键词统一返回，不区分文件</td>\n</tr>\n</tbody></table>\n</li>\n<li><p>json格式：</p>\n<blockquote>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;//not single</span><br><span class=\"line\">&gt;&#123;</span><br><span class=\"line\">&gt;\t\"code\": \"404\",</span><br><span class=\"line\">&gt;\t\"status\": \"false\",</span><br><span class=\"line\">&gt;\t\"message\": [</span><br><span class=\"line\">&gt;\t\t[</span><br><span class=\"line\">&gt;\t\t\t\"发团队\",</span><br><span class=\"line\">&gt;\t\t\t\"派发团队\",</span><br><span class=\"line\">&gt;\t\t\t\"本团队所\"</span><br><span class=\"line\">&gt;\t\t],</span><br><span class=\"line\">&gt;        ……</span><br><span class=\"line\">&gt;        ……</span><br><span class=\"line\">&gt;        ……</span><br><span class=\"line\">&gt;        ……</span><br><span class=\"line\">&gt;    ]</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt;//single</span><br><span class=\"line\">&gt;&#123;</span><br><span class=\"line\">&gt;\t\"code\": \"404\",</span><br><span class=\"line\">&gt;\t\"status\": \"false\",</span><br><span class=\"line\">&gt;\t\"message\": [</span><br><span class=\"line\">&gt;\t\t\t\"发团队\",</span><br><span class=\"line\">&gt;\t\t\t\"派发团队\",</span><br><span class=\"line\">&gt;\t\t\t\"本团队所\"，</span><br><span class=\"line\">&gt;        \t\t……，</span><br><span class=\"line\">&gt;       \t\t\t……，</span><br><span class=\"line\">&gt;       \t\t\t……，</span><br><span class=\"line\">&gt;       \t\t\t……</span><br><span class=\"line\">&gt;   \t\t\t ]</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></div></figure>\n</blockquote>\n<blockquote>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"注意\">注意<a href=\"2019/10/06/提取关键词后端api文档#注意\"></a></h2><ul>\n<li><p>src文件夹下的config.json需要单独配置，请在打包前在请根据你服务器的文件目录更改<code>ResolveServlet.java</code>行的<code>configPath</code>属性为你部署之后的配置文件的绝对路径。</p>\n<p>例：</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">static</span> String configPath = <span class=\"string\">\"C:\\\\data\\\\IdeaUProjects\\\\lihkg\\\\src\\\\config.json\"</span>;</span><br></pre></td></tr></table></div></figure>\n</li>\n<li><p>打包部署完毕后请将配置文件放在你上一步填写的路径上</p>\n</li>\n</ul>\n<p><img src=\"/2019/10/06/提取关键词后端api文档/TIM%E6%88%AA%E5%9B%BE20191006182248.png\" alt=\"TIM截图20191006182248\" class=\"article-img\"></p>\n<p><strong>github自行提取：<a href=\"https://github.com/Treeeeeeee/lihkg\" target=\"_blank\" rel=\"noopener\">github链接</a></strong></p>\n","prev":{"title":"ssh用法及命令","link":"2019/10/07/ssh用法及命令"},"next":{"title":"git push 解决 弹出用户名和密码输入框","link":"2019/10/04/git-push-解决-弹出用户名和密码输入框"},"plink":"https://treeeeeeee.github.io/2019/10/06/提取关键词后端api文档/","toc":[{"title":"Api文档","id":"Api文档","index":"1","children":[{"title":"配置文件","id":"配置文件","index":"1.1"},{"title":"初始化接口","id":"初始化接口","index":"1.2"},{"title":"数据获取接口","id":"数据获取接口","index":"1.3"}]},{"title":"注意","id":"注意","index":"2"}]}